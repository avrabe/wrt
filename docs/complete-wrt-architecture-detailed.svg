<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="2000" height="3200" viewBox="0 0 2000 3200">
  <!-- Title and Legend -->
  <text x="1000" y="40" font-family="Arial, sans-serif" font-size="32" font-weight="bold" text-anchor="middle">
    WRT Complete Architecture: All Components with Dependencies
  </text>
  
  <!-- Legend -->
  <g id="legend" transform="translate(50, 80)">
    <rect x="0" y="0" width="300" height="220" fill="#f0f0f0" stroke="#333" stroke-width="2"/>
    <text x="150" y="25" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Legend</text>
    
    <!-- ASIL-B -->
    <rect x="10" y="40" width="30" height="20" fill="#FFE4B5" stroke="#D2691E" stroke-width="2"/>
    <text x="50" y="55" font-family="Arial" font-size="14">ASIL-B (std)</text>
    
    <!-- Std -->
    <rect x="10" y="70" width="30" height="20" fill="#E6F3FF" stroke="#4682B4" stroke-width="2"/>
    <text x="50" y="85" font-family="Arial" font-size="14">Standard (std)</text>
    
    <!-- No-std -->
    <rect x="10" y="100" width="30" height="20" fill="#E8F5E9" stroke="#2E7D32" stroke-width="2"/>
    <text x="50" y="115" font-family="Arial" font-size="14">No-std</text>
    
    <!-- Deprecated -->
    <rect x="10" y="130" width="30" height="20" fill="#FFCCCC" stroke="#CC0000" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="50" y="145" font-family="Arial" font-size="14">Deprecated</text>
    
    <!-- Test/Dev -->
    <rect x="10" y="160" width="30" height="20" fill="#F0E68C" stroke="#DAA520" stroke-width="2"/>
    <text x="50" y="175" font-family="Arial" font-size="14">Test/Dev Tools</text>
    
    <!-- Build Tools -->
    <rect x="10" y="190" width="30" height="20" fill="#DDA0DD" stroke="#8B008B" stroke-width="2"/>
    <text x="50" y="205" font-family="Arial" font-size="14">Build Tools</text>
  </g>

  <!-- Quota Budget Display -->
  <g id="quota-display" transform="translate(1650, 80)">
    <rect x="0" y="0" width="300" height="220" fill="#f9f9f9" stroke="#333" stroke-width="2"/>
    <text x="150" y="25" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Memory Quotas (Per Crate)</text>
    <text x="10" y="50" font-family="Arial" font-size="12">Foundation: 256 KiB</text>
    <text x="10" y="70" font-family="Arial" font-size="12">Runtime: 1 MiB</text>
    <text x="10" y="90" font-family="Arial" font-size="12">Component: 2 MiB</text>
    <text x="10" y="110" font-family="Arial" font-size="12">WASI: 4 MiB</text>
    <text x="10" y="130" font-family="Arial" font-size="12">Host: 512 KiB</text>
    <text x="10" y="150" font-family="Arial" font-size="12">Math: 64 KiB</text>
    <text x="10" y="170" font-family="Arial" font-size="12">Sync: 128 KiB</text>
    <text x="10" y="190" font-family="Arial" font-size="12">Total System: 8 MiB</text>
  </g>

  <!-- Layer 0: Build and Development Tools -->
  <g id="layer-build-tools" transform="translate(50, 350)">
    <text x="950" y="-20" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">Build and Development Tools</text>
    
    <!-- cargo-wrt -->
    <g id="cargo-wrt">
      <rect x="50" y="0" width="250" height="100" fill="#DDA0DD" stroke="#8B008B" stroke-width="3"/>
      <text x="175" y="25" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">cargo-wrt</text>
      <text x="175" y="45" font-family="Arial" font-size="12" text-anchor="middle">Unified Build Tool</text>
      <text x="175" y="65" font-family="Arial" font-size="11" text-anchor="middle">Features: std</text>
      <text x="175" y="85" font-family="Arial" font-size="10" font-style="italic" text-anchor="middle">Replaces xtask/just</text>
    </g>

    <!-- wrt-build-core -->
    <g id="wrt-build-core">
      <rect x="350" y="0" width="250" height="100" fill="#DDA0DD" stroke="#8B008B" stroke-width="2"/>
      <text x="475" y="25" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">wrt-build-core</text>
      <text x="475" y="45" font-family="Arial" font-size="12" text-anchor="middle">Build Validation</text>
      <text x="475" y="65" font-family="Arial" font-size="11" text-anchor="middle">Features: std</text>
      <text x="475" y="85" font-family="Arial" font-size="10" font-style="italic" text-anchor="middle">ASIL verification</text>
    </g>

    <!-- wrt-dagger -->
    <g id="wrt-dagger">
      <rect x="650" y="0" width="250" height="100" fill="#DDA0DD" stroke="#8B008B" stroke-width="2"/>
      <text x="775" y="25" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">wrt-dagger</text>
      <text x="775" y="45" font-family="Arial" font-size="12" text-anchor="middle">CI/CD Integration</text>
      <text x="775" y="65" font-family="Arial" font-size="11" text-anchor="middle">Features: std</text>
      <text x="775" y="85" font-family="Arial" font-size="10" font-style="italic" text-anchor="middle">Dagger SDK</text>
    </g>

    <!-- wrt-verification-tool -->
    <g id="wrt-verification-tool">
      <rect x="950" y="0" width="250" height="100" fill="#DDA0DD" stroke="#8B008B" stroke-width="2"/>
      <text x="1075" y="25" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">wrt-verification-tool</text>
      <text x="1075" y="45" font-family="Arial" font-size="12" text-anchor="middle">Kani Verification</text>
      <text x="1075" y="65" font-family="Arial" font-size="11" text-anchor="middle">Features: std</text>
      <text x="1075" y="85" font-family="Arial" font-size="10" font-style="italic" text-anchor="middle">Formal proofs</text>
    </g>

    <!-- Deprecated: xtask -->
    <g id="xtask-deprecated">
      <rect x="1250" y="0" width="250" height="100" fill="#FFCCCC" stroke="#CC0000" stroke-width="2" stroke-dasharray="5,5"/>
      <text x="1375" y="25" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">xtask</text>
      <text x="1375" y="45" font-family="Arial" font-size="12" text-anchor="middle" fill="#CC0000">DEPRECATED</text>
      <text x="1375" y="65" font-family="Arial" font-size="11" text-anchor="middle">Replaced by cargo-wrt</text>
      <line x1="1250" y1="0" x2="1500" y2="100" stroke="#CC0000" stroke-width="2"/>
      <line x1="1500" y1="0" x2="1250" y2="100" stroke="#CC0000" stroke-width="2"/>
    </g>

    <!-- Shell scripts (deprecated) -->
    <g id="shell-scripts-deprecated">
      <rect x="1550" y="0" width="250" height="100" fill="#FFCCCC" stroke="#CC0000" stroke-width="2" stroke-dasharray="5,5"/>
      <text x="1675" y="25" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Shell Scripts</text>
      <text x="1675" y="45" font-family="Arial" font-size="12" text-anchor="middle" fill="#CC0000">DEPRECATED</text>
      <text x="1675" y="65" font-family="Arial" font-size="11" text-anchor="middle">Use cargo-wrt cmds</text>
      <line x1="1550" y1="0" x2="1800" y2="100" stroke="#CC0000" stroke-width="2"/>
    </g>
  </g>

  <!-- Layer 1: Applications and CLI -->
  <g id="layer-apps" transform="translate(50, 500)">
    <text x="950" y="-20" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">Applications and CLI Layer</text>
    
    <!-- wrtd (ASIL-B with std) -->
    <g id="wrtd">
      <rect x="150" y="0" width="300" height="120" fill="#FFE4B5" stroke="#D2691E" stroke-width="3"/>
      <text x="300" y="25" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle">wrtd</text>
      <text x="300" y="45" font-family="Arial" font-size="14" text-anchor="middle">ASIL-B Daemon</text>
      <text x="300" y="65" font-family="Arial" font-size="12" text-anchor="middle">Features: std, asil-b</text>
      <text x="300" y="85" font-family="Arial" font-size="12" text-anchor="middle">Quota: Host (512 KiB)</text>
      <text x="300" y="105" font-family="Arial" font-size="11" font-style="italic" text-anchor="middle">IPC, Config, Monitoring</text>
    </g>

    <!-- wrt CLI -->
    <g id="wrt-cli">
      <rect x="500" y="0" width="300" height="120" fill="#E6F3FF" stroke="#4682B4" stroke-width="2"/>
      <text x="650" y="25" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle">wrt</text>
      <text x="650" y="45" font-family="Arial" font-size="14" text-anchor="middle">Main Runtime CLI</text>
      <text x="650" y="65" font-family="Arial" font-size="12" text-anchor="middle">Features: no_std, alloc</text>
      <text x="650" y="85" font-family="Arial" font-size="12" text-anchor="middle">Quota: Runtime (1 MiB)</text>
      <text x="650" y="105" font-family="Arial" font-size="11" font-style="italic" text-anchor="middle">Execute, Validate, Debug</text>
    </g>

    <!-- wrt-helper -->
    <g id="wrt-helper">
      <rect x="850" y="0" width="300" height="120" fill="#E6F3FF" stroke="#4682B4" stroke-width="2"/>
      <text x="1000" y="25" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle">wrt-helper</text>
      <text x="1000" y="45" font-family="Arial" font-size="14" text-anchor="middle">Development Helper</text>
      <text x="1000" y="65" font-family="Arial" font-size="12" text-anchor="middle">Features: std</text>
      <text x="1000" y="85" font-family="Arial" font-size="12" text-anchor="middle">No runtime quota</text>
      <text x="1000" y="105" font-family="Arial" font-size="11" font-style="italic" text-anchor="middle">WAT parsing, Debug</text>
    </g>
  </g>

  <!-- Layer 2: Test Infrastructure -->
  <g id="layer-test" transform="translate(50, 660)">
    <text x="950" y="-20" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">Test Infrastructure</text>
    
    <!-- wrt-test-registry -->
    <g id="wrt-test-registry">
      <rect x="300" y="0" width="400" height="120" fill="#F0E68C" stroke="#DAA520" stroke-width="2"/>
      <text x="500" y="25" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle">wrt-test-registry</text>
      <text x="500" y="45" font-family="Arial" font-size="14" text-anchor="middle">Test Framework</text>
      <text x="500" y="65" font-family="Arial" font-size="12" text-anchor="middle">Features: std (test runner)</text>
      <text x="500" y="85" font-family="Arial" font-size="12" text-anchor="middle">No runtime quota</text>
      <text x="500" y="105" font-family="Arial" font-size="11" font-style="italic" text-anchor="middle">Registry, Runner, Benchmarks</text>
    </g>

    <!-- wrt-tests -->
    <g id="wrt-tests">
      <rect x="750" y="0" width="400" height="120" fill="#F0E68C" stroke="#DAA520" stroke-width="2"/>
      <text x="950" y="25" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle">wrt-tests</text>
      <text x="950" y="45" font-family="Arial" font-size="14" text-anchor="middle">Integration Tests</text>
      <text x="950" y="65" font-family="Arial" font-size="12" text-anchor="middle">Features: std</text>
      <text x="950" y="85" font-family="Arial" font-size="12" text-anchor="middle">Test-only crate</text>
      <text x="950" y="105" font-family="Arial" font-size="11" font-style="italic" text-anchor="middle">Component, WASI, Runtime tests</text>
    </g>
  </g>

  <!-- Layer 3: WASI Implementation -->
  <g id="layer-wasi" transform="translate(50, 820)">
    <text x="950" y="-20" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">WASI Implementation Layer</text>
    
    <!-- wrt-wasi (std) -->
    <g id="wrt-wasi">
      <rect x="200" y="0" width="1200" height="200" fill="#E6F3FF" stroke="#4682B4" stroke-width="3"/>
      <text x="800" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">wrt-wasi</text>
      <text x="800" y="55" font-family="Arial" font-size="16" text-anchor="middle">WebAssembly System Interface</text>
      <text x="800" y="80" font-family="Arial" font-size="14" text-anchor="middle">Features: std, preview2</text>
      <text x="800" y="105" font-family="Arial" font-size="14" text-anchor="middle">Quota: WASI (4 MiB) - Largest allocation</text>
      
      <!-- WASI subsystems -->
      <rect x="220" y="120" width="180" height="60" fill="#D4E6F1" stroke="#2874A6" stroke-width="1"/>
      <text x="310" y="145" font-family="Arial" font-size="12" text-anchor="middle">Filesystem</text>
      <text x="310" y="165" font-family="Arial" font-size="11" text-anchor="middle">VFS + Sandbox</text>
      
      <rect x="420" y="120" width="180" height="60" fill="#D4E6F1" stroke="#2874A6" stroke-width="1"/>
      <text x="510" y="145" font-family="Arial" font-size="12" text-anchor="middle">Sockets</text>
      <text x="510" y="165" font-family="Arial" font-size="11" text-anchor="middle">TCP/UDP/Unix</text>
      
      <rect x="620" y="120" width="180" height="60" fill="#D4E6F1" stroke="#2874A6" stroke-width="1"/>
      <text x="710" y="145" font-family="Arial" font-size="12" text-anchor="middle">Random</text>
      <text x="710" y="165" font-family="Arial" font-size="11" text-anchor="middle">Crypto RNG</text>
      
      <rect x="820" y="120" width="180" height="60" fill="#D4E6F1" stroke="#2874A6" stroke-width="1"/>
      <text x="910" y="145" font-family="Arial" font-size="12" text-anchor="middle">Clocks</text>
      <text x="910" y="165" font-family="Arial" font-size="11" text-anchor="middle">Monotonic/Wall</text>
      
      <rect x="1020" y="120" width="180" height="60" fill="#D4E6F1" stroke="#2874A6" stroke-width="1"/>
      <text x="1110" y="145" font-family="Arial" font-size="12" text-anchor="middle">Environ</text>
      <text x="1110" y="165" font-family="Arial" font-size="11" text-anchor="middle">Args/Env vars</text>
      
      <rect x="1220" y="120" width="160" height="60" fill="#D4E6F1" stroke="#2874A6" stroke-width="1"/>
      <text x="1300" y="145" font-family="Arial" font-size="12" text-anchor="middle">Exit</text>
      <text x="1300" y="165" font-family="Arial" font-size="11" text-anchor="middle">Process control</text>
    </g>

    <!-- Deprecated: WASI Preview1 -->
    <g id="wasi-preview1-deprecated">
      <rect x="1450" y="0" width="300" height="100" fill="#FFCCCC" stroke="#CC0000" stroke-width="2" stroke-dasharray="5,5"/>
      <text x="1600" y="30" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">WASI Preview1</text>
      <text x="1600" y="50" font-family="Arial" font-size="14" text-anchor="middle" fill="#CC0000">DEPRECATED</text>
      <text x="1600" y="70" font-family="Arial" font-size="12" text-anchor="middle">Use Preview2</text>
      <line x1="1450" y1="0" x2="1750" y2="100" stroke="#CC0000" stroke-width="2"/>
    </g>
  </g>

  <!-- Layer 4: Component Model -->
  <g id="layer-component" transform="translate(50, 1070)">
    <text x="950" y="-20" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">Component Model Layer</text>
    
    <!-- wrt-component (no_std) -->
    <g id="wrt-component">
      <rect x="100" y="0" width="1400" height="250" fill="#E8F5E9" stroke="#2E7D32" stroke-width="3"/>
      <text x="800" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">wrt-component</text>
      <text x="800" y="55" font-family="Arial" font-size="16" text-anchor="middle">Component Model Implementation (100% MVP)</text>
      <text x="800" y="80" font-family="Arial" font-size="14" text-anchor="middle">Features: no_std, alloc</text>
      <text x="800" y="105" font-family="Arial" font-size="14" text-anchor="middle">Quota: Component (2 MiB)</text>
      
      <!-- Component subsystems -->
      <rect x="120" y="130" width="220" height="100" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="230" y="155" font-family="Arial" font-size="12" text-anchor="middle">Canonical ABI</text>
      <text x="230" y="175" font-family="Arial" font-size="11" text-anchor="middle">• SIMD optimized</text>
      <text x="230" y="195" font-family="Arial" font-size="11" text-anchor="middle">• Complex types</text>
      <text x="230" y="215" font-family="Arial" font-size="11" text-anchor="middle">• Post-return</text>
      
      <rect x="360" y="130" width="220" height="100" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="470" y="155" font-family="Arial" font-size="12" text-anchor="middle">Resource Management</text>
      <text x="470" y="175" font-family="Arial" font-size="11" text-anchor="middle">• Dynamic quotas</text>
      <text x="470" y="195" font-family="Arial" font-size="11" text-anchor="middle">• Hierarchical budgets</text>
      <text x="470" y="215" font-family="Arial" font-size="11" text-anchor="middle">• Blast zones</text>
      
      <rect x="600" y="130" width="220" height="100" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="710" y="155" font-family="Arial" font-size="12" text-anchor="middle">Cross-Component</text>
      <text x="710" y="175" font-family="Arial" font-size="11" text-anchor="middle">• Call caching</text>
      <text x="710" y="195" font-family="Arial" font-size="11" text-anchor="middle">• Batch transfers</text>
      <text x="710" y="215" font-family="Arial" font-size="11" text-anchor="middle">• Hot path opt</text>
      
      <rect x="840" y="130" width="220" height="100" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="950" y="155" font-family="Arial" font-size="12" text-anchor="middle">Async Support</text>
      <text x="950" y="175" font-family="Arial" font-size="11" text-anchor="middle">• Task.cancel</text>
      <text x="950" y="195" font-family="Arial" font-size="11" text-anchor="middle">• Subtask.cancel</text>
      <text x="950" y="215" font-family="Arial" font-size="11" text-anchor="middle">• Streams/Futures</text>
      
      <rect x="1080" y="130" width="200" height="100" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1180" y="155" font-family="Arial" font-size="12" text-anchor="middle">WIT Parser</text>
      <text x="1180" y="175" font-family="Arial" font-size="11" text-anchor="middle">• No-std compat</text>
      <text x="1180" y="195" font-family="Arial" font-size="11" text-anchor="middle">• Validation</text>
      <text x="1180" y="215" font-family="Arial" font-size="11" text-anchor="middle">• Type checking</text>
      
      <rect x="1300" y="130" width="180" height="100" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1390" y="155" font-family="Arial" font-size="12" text-anchor="middle">String Encoding</text>
      <text x="1390" y="175" font-family="Arial" font-size="11" text-anchor="middle">• UTF-8/16</text>
      <text x="1390" y="195" font-family="Arial" font-size="11" text-anchor="middle">• Latin-1</text>
      <text x="1390" y="215" font-family="Arial" font-size="11" text-anchor="middle">• All encodings</text>
    </g>
  </g>

  <!-- Layer 5: Runtime Core -->
  <g id="layer-runtime" transform="translate(50, 1370)">
    <text x="950" y="-20" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">Runtime Core Layer</text>
    
    <!-- wrt-runtime (no_std) -->
    <g id="wrt-runtime">
      <rect x="50" y="0" width="600" height="250" fill="#E8F5E9" stroke="#2E7D32" stroke-width="3"/>
      <text x="350" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">wrt-runtime</text>
      <text x="350" y="55" font-family="Arial" font-size="16" text-anchor="middle">Core WebAssembly Runtime</text>
      <text x="350" y="80" font-family="Arial" font-size="14" text-anchor="middle">Features: no_std, alloc</text>
      <text x="350" y="105" font-family="Arial" font-size="14" text-anchor="middle">Quota: Runtime (1 MiB)</text>
      
      <!-- Runtime components -->
      <rect x="70" y="130" width="180" height="100" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="160" y="155" font-family="Arial" font-size="12" text-anchor="middle">Module System</text>
      <text x="160" y="175" font-family="Arial" font-size="11" text-anchor="middle">• Instantiation</text>
      <text x="160" y="195" font-family="Arial" font-size="11" text-anchor="middle">• Linking</text>
      <text x="160" y="215" font-family="Arial" font-size="11" text-anchor="middle">• Lifecycle</text>
      
      <rect x="270" y="130" width="180" height="100" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="360" y="155" font-family="Arial" font-size="12" text-anchor="middle">Type System</text>
      <text x="360" y="175" font-family="Arial" font-size="11" text-anchor="middle">• Validation</text>
      <text x="360" y="195" font-family="Arial" font-size="11" text-anchor="middle">• Type checking</text>
      <text x="360" y="215" font-family="Arial" font-size="11" text-anchor="middle">• Conversion</text>
      
      <rect x="470" y="130" width="160" height="100" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="550" y="155" font-family="Arial" font-size="12" text-anchor="middle">Store</text>
      <text x="550" y="175" font-family="Arial" font-size="11" text-anchor="middle">• Instances</text>
      <text x="550" y="195" font-family="Arial" font-size="11" text-anchor="middle">• Tables</text>
      <text x="550" y="215" font-family="Arial" font-size="11" text-anchor="middle">• Globals</text>
    </g>
    
    <!-- wrt-instructions (no_std) -->
    <g id="wrt-instructions">
      <rect x="700" y="0" width="600" height="250" fill="#E8F5E9" stroke="#2E7D32" stroke-width="3"/>
      <text x="1000" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">wrt-instructions</text>
      <text x="1000" y="55" font-family="Arial" font-size="16" text-anchor="middle">Instruction Interpreter</text>
      <text x="1000" y="80" font-family="Arial" font-size="14" text-anchor="middle">Features: no_std, alloc</text>
      <text x="1000" y="105" font-family="Arial" font-size="14" text-anchor="middle">Uses Runtime quota</text>
      
      <!-- Instruction categories -->
      <rect x="720" y="130" width="180" height="100" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="810" y="155" font-family="Arial" font-size="12" text-anchor="middle">Control Flow</text>
      <text x="810" y="175" font-family="Arial" font-size="11" text-anchor="middle">• br/br_if/br_table</text>
      <text x="810" y="195" font-family="Arial" font-size="11" text-anchor="middle">• call/call_indirect</text>
      <text x="810" y="215" font-family="Arial" font-size="11" text-anchor="middle">• block/loop/if</text>
      
      <rect x="920" y="130" width="180" height="100" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1010" y="155" font-family="Arial" font-size="12" text-anchor="middle">Memory Ops</text>
      <text x="1010" y="175" font-family="Arial" font-size="11" text-anchor="middle">• load/store</text>
      <text x="1010" y="195" font-family="Arial" font-size="11" text-anchor="middle">• memory.grow</text>
      <text x="1010" y="215" font-family="Arial" font-size="11" text-anchor="middle">• memory.size</text>
      
      <rect x="1120" y="130" width="160" height="100" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1200" y="155" font-family="Arial" font-size="12" text-anchor="middle">Numeric</text>
      <text x="1200" y="175" font-family="Arial" font-size="11" text-anchor="middle">• i32/i64 ops</text>
      <text x="1200" y="195" font-family="Arial" font-size="11" text-anchor="middle">• f32/f64 ops</text>
      <text x="1200" y="215" font-family="Arial" font-size="11" text-anchor="middle">• conversions</text>
    </g>
    
    <!-- wrt-intercept -->
    <g id="wrt-intercept">
      <rect x="1350" y="0" width="400" height="250" fill="#E8F5E9" stroke="#2E7D32" stroke-width="3"/>
      <text x="1550" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">wrt-intercept</text>
      <text x="1550" y="55" font-family="Arial" font-size="16" text-anchor="middle">Execution Interceptor</text>
      <text x="1550" y="80" font-family="Arial" font-size="14" text-anchor="middle">Features: no_std, alloc</text>
      <text x="1550" y="105" font-family="Arial" font-size="14" text-anchor="middle">Minimal quota usage</text>
      
      <rect x="1370" y="130" width="360" height="100" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1550" y="155" font-family="Arial" font-size="12" text-anchor="middle">Interception Points</text>
      <text x="1550" y="175" font-family="Arial" font-size="11" text-anchor="middle">• Pre/Post execution hooks</text>
      <text x="1550" y="195" font-family="Arial" font-size="11" text-anchor="middle">• Trap handling</text>
      <text x="1550" y="215" font-family="Arial" font-size="11" text-anchor="middle">• Debug callbacks</text>
    </g>
  </g>

  <!-- Layer 6: Format and Decoding -->
  <g id="layer-format" transform="translate(50, 1670)">
    <text x="950" y="-20" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">Format and Decoding Layer</text>
    
    <!-- wrt-format (no_std) -->
    <g id="wrt-format">
      <rect x="200" y="0" width="500" height="200" fill="#E8F5E9" stroke="#2E7D32" stroke-width="3"/>
      <text x="450" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">wrt-format</text>
      <text x="450" y="55" font-family="Arial" font-size="16" text-anchor="middle">WebAssembly Format Types</text>
      <text x="450" y="80" font-family="Arial" font-size="14" text-anchor="middle">Features: no_std, alloc</text>
      <text x="450" y="105" font-family="Arial" font-size="14" text-anchor="middle">Uses Foundation quota</text>
      
      <rect x="220" y="120" width="120" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="280" y="145" font-family="Arial" font-size="11" text-anchor="middle">Module</text>
      <text x="280" y="165" font-family="Arial" font-size="10" text-anchor="middle">Structure</text>
      
      <rect x="360" y="120" width="120" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="420" y="145" font-family="Arial" font-size="11" text-anchor="middle">Component</text>
      <text x="420" y="165" font-family="Arial" font-size="10" text-anchor="middle">Model types</text>
      
      <rect x="500" y="120" width="120" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="560" y="145" font-family="Arial" font-size="11" text-anchor="middle">Sections</text>
      <text x="560" y="165" font-family="Arial" font-size="10" text-anchor="middle">Parsing</text>
    </g>
    
    <!-- wrt-decoder (commented out in runtime) -->
    <g id="wrt-decoder">
      <rect x="750" y="0" width="500" height="200" fill="#E8F5E9" stroke="#2E7D32" stroke-width="2" stroke-dasharray="10,5"/>
      <text x="1000" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">wrt-decoder</text>
      <text x="1000" y="55" font-family="Arial" font-size="16" text-anchor="middle">Binary Decoder</text>
      <text x="1000" y="80" font-family="Arial" font-size="14" text-anchor="middle">Features: no_std, alloc</text>
      <text x="1000" y="105" font-family="Arial" font-size="14" text-anchor="middle" font-style="italic">(Currently disabled in runtime)</text>
      
      <rect x="770" y="120" width="150" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="845" y="145" font-family="Arial" font-size="11" text-anchor="middle">Binary Parser</text>
      <text x="845" y="165" font-family="Arial" font-size="10" text-anchor="middle">Section decode</text>
      
      <rect x="940" y="120" width="150" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1015" y="145" font-family="Arial" font-size="11" text-anchor="middle">Validation</text>
      <text x="1015" y="165" font-family="Arial" font-size="10" text-anchor="middle">Type checking</text>
      
      <rect x="1110" y="120" width="120" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1170" y="145" font-family="Arial" font-size="11" text-anchor="middle">WAT Support</text>
      <text x="1170" y="165" font-family="Arial" font-size="10" text-anchor="middle">(optional)</text>
    </g>
  </g>

  <!-- Layer 7: Host and Debug -->
  <g id="layer-host" transform="translate(50, 1920)">
    <text x="950" y="-20" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">Host Integration and Debug Layer</text>
    
    <!-- wrt-host (no_std) -->
    <g id="wrt-host">
      <rect x="100" y="0" width="500" height="200" fill="#E8F5E9" stroke="#2E7D32" stroke-width="3"/>
      <text x="350" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">wrt-host</text>
      <text x="350" y="55" font-family="Arial" font-size="16" text-anchor="middle">Host Environment Integration</text>
      <text x="350" y="80" font-family="Arial" font-size="14" text-anchor="middle">Features: no_std, alloc</text>
      <text x="350" y="105" font-family="Arial" font-size="14" text-anchor="middle">Quota: Host (512 KiB)</text>
      
      <rect x="120" y="120" width="150" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="195" y="145" font-family="Arial" font-size="11" text-anchor="middle">Capabilities</text>
      <text x="195" y="165" font-family="Arial" font-size="10" text-anchor="middle">Access control</text>
      
      <rect x="290" y="120" width="150" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="365" y="145" font-family="Arial" font-size="11" text-anchor="middle">Resource Limits</text>
      <text x="365" y="165" font-family="Arial" font-size="10" text-anchor="middle">CPU/Memory/IO</text>
      
      <rect x="460" y="120" width="120" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="520" y="145" font-family="Arial" font-size="11" text-anchor="middle">Sandbox</text>
      <text x="520" y="165" font-family="Arial" font-size="10" text-anchor="middle">Isolation</text>
    </g>
    
    <!-- wrt-debug -->
    <g id="wrt-debug">
      <rect x="650" y="0" width="500" height="200" fill="#E8F5E9" stroke="#2E7D32" stroke-width="3"/>
      <text x="900" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">wrt-debug</text>
      <text x="900" y="55" font-family="Arial" font-size="16" text-anchor="middle">Debug Support</text>
      <text x="900" y="80" font-family="Arial" font-size="14" text-anchor="middle">Features: no_std, alloc (optional)</text>
      <text x="900" y="105" font-family="Arial" font-size="14" text-anchor="middle">Minimal quota usage</text>
      
      <rect x="670" y="120" width="150" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="745" y="145" font-family="Arial" font-size="11" text-anchor="middle">Line Info</text>
      <text x="745" y="165" font-family="Arial" font-size="10" text-anchor="middle">Source maps</text>
      
      <rect x="840" y="120" width="150" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="915" y="145" font-family="Arial" font-size="11" text-anchor="middle">Stack Trace</text>
      <text x="915" y="165" font-family="Arial" font-size="10" text-anchor="middle">Call stacks</text>
      
      <rect x="1010" y="120" width="120" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1070" y="145" font-family="Arial" font-size="11" text-anchor="middle">WIT Debug</text>
      <text x="1070" y="165" font-family="Arial" font-size="10" text-anchor="middle">Integration</text>
    </g>
    
    <!-- wrt-logging -->
    <g id="wrt-logging">
      <rect x="1200" y="0" width="500" height="200" fill="#E8F5E9" stroke="#2E7D32" stroke-width="3"/>
      <text x="1450" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">wrt-logging</text>
      <text x="1450" y="55" font-family="Arial" font-size="16" text-anchor="middle">Logging Infrastructure</text>
      <text x="1450" y="80" font-family="Arial" font-size="14" text-anchor="middle">Features: no_std, alloc</text>
      <text x="1450" y="105" font-family="Arial" font-size="14" text-anchor="middle">Minimal quota usage</text>
      
      <rect x="1220" y="120" width="150" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1295" y="145" font-family="Arial" font-size="11" text-anchor="middle">Log Levels</text>
      <text x="1295" y="165" font-family="Arial" font-size="10" text-anchor="middle">Error/Warn/Info</text>
      
      <rect x="1390" y="120" width="150" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1465" y="145" font-family="Arial" font-size="11" text-anchor="middle">Backends</text>
      <text x="1465" y="165" font-family="Arial" font-size="10" text-anchor="middle">Stdout/File/Net</text>
      
      <rect x="1560" y="120" width="120" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1620" y="145" font-family="Arial" font-size="11" text-anchor="middle">No-std</text>
      <text x="1620" y="165" font-family="Arial" font-size="10" text-anchor="middle">Support</text>
    </g>
  </g>

  <!-- Layer 8: Core Infrastructure -->
  <g id="layer-core" transform="translate(50, 2170)">
    <text x="950" y="-20" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">Core Infrastructure Layer</text>
    
    <!-- wrt-foundation (no_std) -->
    <g id="wrt-foundation">
      <rect x="50" y="0" width="700" height="350" fill="#E8F5E9" stroke="#2E7D32" stroke-width="3"/>
      <text x="400" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">wrt-foundation</text>
      <text x="400" y="55" font-family="Arial" font-size="16" text-anchor="middle">Core Infrastructure</text>
      <text x="400" y="80" font-family="Arial" font-size="14" text-anchor="middle">Features: no_std, alloc (optional)</text>
      <text x="400" y="105" font-family="Arial" font-size="14" text-anchor="middle">Quota: Foundation (256 KiB)</text>
      
      <!-- Foundation components -->
      <rect x="70" y="130" width="200" height="80" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="170" y="155" font-family="Arial" font-size="12" text-anchor="middle">Memory Management</text>
      <text x="170" y="175" font-family="Arial" font-size="10" text-anchor="middle">• VerifiedAllocator</text>
      <text x="170" y="195" font-family="Arial" font-size="10" text-anchor="middle">• Capability system</text>
      
      <rect x="290" y="130" width="200" height="80" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="390" y="155" font-family="Arial" font-size="12" text-anchor="middle">Collections</text>
      <text x="390" y="175" font-family="Arial" font-size="10" text-anchor="middle">• WrtVec/HashMap</text>
      <text x="390" y="195" font-family="Arial" font-size="10" text-anchor="middle">• BoundedSet</text>
      
      <rect x="510" y="130" width="200" height="80" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="610" y="155" font-family="Arial" font-size="12" text-anchor="middle">Platform Abstraction</text>
      <text x="610" y="175" font-family="Arial" font-size="10" text-anchor="middle">• Provider traits</text>
      <text x="610" y="195" font-family="Arial" font-size="10" text-anchor="middle">• Safe memory</text>
      
      <!-- Deprecated items in foundation -->
      <rect x="70" y="230" width="640" height="100" fill="#FFCCCC" stroke="#CC0000" stroke-width="1" stroke-dasharray="5,5"/>
      <text x="390" y="255" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#CC0000">Deprecated APIs</text>
      <text x="80" y="280" font-family="Arial" font-size="10" fill="#CC0000">• NoStdProviderBuilder - Use capability system</text>
      <text x="80" y="300" font-family="Arial" font-size="10" fill="#CC0000">• BudgetProvider - Use CapabilityAwareProvider</text>
      <text x="80" y="320" font-family="Arial" font-size="10" fill="#CC0000">• Global WRT memory coordinator - Use injection</text>
    </g>
    
    <!-- wrt-sync (no_std) -->
    <g id="wrt-sync">
      <rect x="800" y="0" width="400" height="200" fill="#E8F5E9" stroke="#2E7D32" stroke-width="3"/>
      <text x="1000" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">wrt-sync</text>
      <text x="1000" y="55" font-family="Arial" font-size="16" text-anchor="middle">Synchronization Primitives</text>
      <text x="1000" y="80" font-family="Arial" font-size="14" text-anchor="middle">Features: no_std</text>
      <text x="1000" y="105" font-family="Arial" font-size="14" text-anchor="middle">Quota: Sync (128 KiB)</text>
      
      <rect x="820" y="120" width="120" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="880" y="145" font-family="Arial" font-size="11" text-anchor="middle">Mutex</text>
      <text x="880" y="165" font-family="Arial" font-size="10" text-anchor="middle">No-std safe</text>
      
      <rect x="960" y="120" width="120" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1020" y="145" font-family="Arial" font-size="11" text-anchor="middle">RwLock</text>
      <text x="1020" y="165" font-family="Arial" font-size="10" text-anchor="middle">Read/Write</text>
      
      <rect x="1100" y="120" width="120" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1160" y="145" font-family="Arial" font-size="11" text-anchor="middle">Once</text>
      <text x="1160" y="165" font-family="Arial" font-size="10" text-anchor="middle">One-time init</text>
    </g>
    
    <!-- wrt-error (no_std) -->
    <g id="wrt-error">
      <rect x="1250" y="0" width="400" height="200" fill="#E8F5E9" stroke="#2E7D32" stroke-width="3"/>
      <text x="1450" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">wrt-error</text>
      <text x="1450" y="55" font-family="Arial" font-size="16" text-anchor="middle">Error Handling</text>
      <text x="1450" y="80" font-family="Arial" font-size="14" text-anchor="middle">Features: no_std</text>
      <text x="1450" y="105" font-family="Arial" font-size="14" text-anchor="middle">No quota (minimal)</text>
      
      <rect x="1270" y="120" width="120" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1330" y="145" font-family="Arial" font-size="11" text-anchor="middle">Error Codes</text>
      <text x="1330" y="165" font-family="Arial" font-size="10" text-anchor="middle">Categories</text>
      
      <rect x="1410" y="120" width="120" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1470" y="145" font-family="Arial" font-size="11" text-anchor="middle">WrtResult</text>
      <text x="1470" y="165" font-family="Arial" font-size="10" text-anchor="middle">Type alias</text>
      
      <rect x="1550" y="120" width="120" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1610" y="145" font-family="Arial" font-size="11" text-anchor="middle">No-std</text>
      <text x="1610" y="165" font-family="Arial" font-size="10" text-anchor="middle">Compatible</text>
    </g>
    
    <!-- wrt-math (no_std) -->
    <g id="wrt-math">
      <rect x="1700" y="0" width="250" height="200" fill="#E8F5E9" stroke="#2E7D32" stroke-width="3"/>
      <text x="1825" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">wrt-math</text>
      <text x="1825" y="55" font-family="Arial" font-size="16" text-anchor="middle">Math Operations</text>
      <text x="1825" y="80" font-family="Arial" font-size="14" text-anchor="middle">Features: no_std</text>
      <text x="1825" y="105" font-family="Arial" font-size="14" text-anchor="middle">Quota: Math (64 KiB)</text>
      
      <rect x="1720" y="120" width="100" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1770" y="145" font-family="Arial" font-size="11" text-anchor="middle">libm</text>
      <text x="1770" y="165" font-family="Arial" font-size="10" text-anchor="middle">No-std</text>
      
      <rect x="1840" y="120" width="100" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1890" y="145" font-family="Arial" font-size="11" text-anchor="middle">SIMD</text>
      <text x="1890" y="165" font-family="Arial" font-size="10" text-anchor="middle">(optional)</text>
    </g>
  </g>

  <!-- Layer 9: Platform and Panic -->
  <g id="layer-platform" transform="translate(50, 2570)">
    <text x="950" y="-20" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">Platform Layer</text>
    
    <!-- wrt-platform (no_std) -->
    <g id="wrt-platform">
      <rect x="200" y="0" width="1000" height="200" fill="#E8F5E9" stroke="#2E7D32" stroke-width="3"/>
      <text x="700" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">wrt-platform</text>
      <text x="700" y="55" font-family="Arial" font-size="16" text-anchor="middle">OS and Hardware Abstraction</text>
      <text x="700" y="80" font-family="Arial" font-size="14" text-anchor="middle">Features: no_std (platform-specific std optional)</text>
      <text x="700" y="105" font-family="Arial" font-size="14" text-anchor="middle">No direct quota (uses system allocators)</text>
      
      <!-- Platform implementations -->
      <rect x="220" y="120" width="180" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="310" y="145" font-family="Arial" font-size="12" text-anchor="middle">POSIX</text>
      <text x="310" y="165" font-family="Arial" font-size="11" text-anchor="middle">Linux/macOS/QNX</text>
      
      <rect x="420" y="120" width="180" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="510" y="145" font-family="Arial" font-size="12" text-anchor="middle">SecurityFirst</text>
      <text x="510" y="165" font-family="Arial" font-size="11" text-anchor="middle">Tock OS</text>
      
      <rect x="620" y="120" width="180" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="710" y="145" font-family="Arial" font-size="12" text-anchor="middle">RealTime</text>
      <text x="710" y="165" font-family="Arial" font-size="11" text-anchor="middle">Zephyr/VxWorks</text>
      
      <rect x="820" y="120" width="180" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="910" y="145" font-family="Arial" font-size="12" text-anchor="middle">BareMetal</text>
      <text x="910" y="165" font-family="Arial" font-size="11" text-anchor="middle">No OS</text>
      
      <rect x="1020" y="120" width="160" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1100" y="145" font-family="Arial" font-size="12" text-anchor="middle">Page Allocators</text>
      <text x="1100" y="165" font-family="Arial" font-size="11" text-anchor="middle">mmap/vm_alloc</text>
    </g>
    
    <!-- wrt-panic (no_std) -->
    <g id="wrt-panic">
      <rect x="1250" y="0" width="400" height="200" fill="#E8F5E9" stroke="#2E7D32" stroke-width="3"/>
      <text x="1450" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">wrt-panic</text>
      <text x="1450" y="55" font-family="Arial" font-size="16" text-anchor="middle">Panic Handler</text>
      <text x="1450" y="80" font-family="Arial" font-size="14" text-anchor="middle">Features: no_std</text>
      <text x="1450" y="105" font-family="Arial" font-size="14" text-anchor="middle">No dependencies</text>
      
      <rect x="1270" y="120" width="160" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1350" y="145" font-family="Arial" font-size="11" text-anchor="middle">ASIL-B/D</text>
      <text x="1350" y="165" font-family="Arial" font-size="10" text-anchor="middle">Compliant</text>
      
      <rect x="1450" y="120" width="180" height="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="1"/>
      <text x="1540" y="145" font-family="Arial" font-size="11" text-anchor="middle">Dev/Release</text>
      <text x="1540" y="165" font-family="Arial" font-size="10" text-anchor="middle">Profiles</text>
    </g>
  </g>

  <!-- Deprecated Components Summary -->
  <g id="deprecated-summary" transform="translate(50, 2820)">
    <text x="950" y="-20" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">Deprecated Components Summary</text>
    
    <rect x="100" y="0" width="1700" height="200" fill="#FFCCCC" stroke="#CC0000" stroke-width="2" stroke-dasharray="5,5"/>
    
    <text x="150" y="30" font-family="Arial" font-size="16" font-weight="bold" fill="#CC0000">Deprecated Components:</text>
    
    <text x="150" y="60" font-family="Arial" font-size="14">Build Tools:</text>
    <text x="150" y="80" font-family="Arial" font-size="12">• xtask - Replaced by cargo-wrt for build orchestration</text>
    <text x="150" y="100" font-family="Arial" font-size="12">• Shell scripts - Use cargo-wrt commands instead</text>
    <text x="150" y="120" font-family="Arial" font-size="12">• Direct just usage - Use cargo-wrt wrapper</text>
    
    <text x="650" y="60" font-family="Arial" font-size="14">WASI:</text>
    <text x="650" y="80" font-family="Arial" font-size="12">• WASI Preview1 - Legacy interface, use Preview2</text>
    
    <text x="1050" y="60" font-family="Arial" font-size="14">Foundation APIs:</text>
    <text x="1050" y="80" font-family="Arial" font-size="12">• NoStdProviderBuilder - Use capability system</text>
    <text x="1050" y="100" font-family="Arial" font-size="12">• BudgetProvider - Use CapabilityAwareProvider</text>
    <text x="1050" y="120" font-family="Arial" font-size="12">• Global WRT memory coordinator - Use dependency injection</text>
    <text x="1050" y="140" font-family="Arial" font-size="12">• MemoryProviderFactory methods - Use CapabilityMemoryFactory</text>
    
    <text x="150" y="170" font-family="Arial" font-size="12" font-style="italic">Note: wrt-decoder is currently disabled in wrt-runtime (commented out dependency)</text>
  </g>

  <!-- Dependency arrows (simplified for clarity) -->
  <g id="dependencies" opacity="0.5">
    <!-- Foundation to all -->
    <path d="M 400 2520 L 400 2370" stroke="#2E7D32" stroke-width="2" fill="none" marker-end="url(#arrowgreen)"/>
    <path d="M 400 2520 L 1000 2370" stroke="#2E7D32" stroke-width="2" fill="none" marker-end="url(#arrowgreen)"/>
    <path d="M 400 2520 L 1450 2370" stroke="#2E7D32" stroke-width="2" fill="none" marker-end="url(#arrowgreen)"/>
    
    <!-- Error to all -->
    <path d="M 1450 2370 L 350 1570" stroke="#2E7D32" stroke-width="1" fill="none" marker-end="url(#arrowgreen)"/>
    <path d="M 1450 2370 L 1000 1570" stroke="#2E7D32" stroke-width="1" fill="none" marker-end="url(#arrowgreen)"/>
    
    <!-- Platform optional -->
    <path d="M 700 2770 L 700 2120" stroke="#2E7D32" stroke-width="1" stroke-dasharray="5,5" fill="none" marker-end="url(#arrowgreen)"/>
  </g>

  <!-- Arrow markers -->
  <defs>
    <marker id="arrowgreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#2E7D32"/>
    </marker>
  </defs>

  <!-- Feature Summary -->
  <g id="feature-summary" transform="translate(50, 3050)">
    <text x="0" y="0" font-family="Arial" font-size="18" font-weight="bold">Crate Feature Configuration:</text>
    <text x="0" y="30" font-family="Arial" font-size="14" font-weight="bold">std enabled:</text>
    <text x="0" y="50" font-family="Arial" font-size="12">• wrtd (ASIL-B), wrt-wasi, cargo-wrt, wrt-build-core, wrt-dagger</text>
    <text x="0" y="70" font-family="Arial" font-size="12">• wrt-verification-tool, wrt-test-registry, wrt-tests, wrt-helper</text>
    
    <text x="0" y="100" font-family="Arial" font-size="14" font-weight="bold">no_std + alloc:</text>
    <text x="0" y="120" font-family="Arial" font-size="12">• wrt, wrt-runtime, wrt-component, wrt-host, wrt-instructions</text>
    <text x="0" y="140" font-family="Arial" font-size="12">• wrt-intercept, wrt-format, wrt-decoder, wrt-debug, wrt-logging</text>
    
    <text x="0" y="170" font-family="Arial" font-size="14" font-weight="bold">pure no_std (no alloc):</text>
    <text x="0" y="190" font-family="Arial" font-size="12">• wrt-foundation (alloc optional), wrt-error, wrt-sync, wrt-math</text>
    <text x="0" y="210" font-family="Arial" font-size="12">• wrt-platform, wrt-panic</text>
    
    <text x="0" y="240" font-family="Arial" font-size="14" font-weight="bold">Total memory budget: 8 MiB (enforced via quota system)</text>
  </g>
</svg>