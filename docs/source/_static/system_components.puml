@startuml
' Fix potential syntax issues by simplifying the file

package "WRT System" {
  [WRTD CLI] as CLI

  package "WRT Core Library" {
    package "Core Runtime" {
      [Stackless Engine] as StacklessEngine
      [Module] as Module 
      [Memory] as Memory
      [Stack] as Stack
      [Instructions] as Instructions
      [Validation] as Validation
      [Execution] as Execution
      [Resource Tracking] as ResTrack
      [Error Handling] as ErrorHandling
      
      StacklessEngine --> Module
      StacklessEngine --> Memory
      StacklessEngine --> Stack
      StacklessEngine --> Execution
      StacklessEngine --> ResTrack

      Execution --> Instructions
      Module --> Validation
      Execution --> ErrorHandling
    }
    
    package "Component Model" {
      [Component] as Component
      [Interface Types] as InterfaceTypes
      [Resource Types] as ResourceTypes
      [Resource Manager] as ResourceManager
      
      Component --> InterfaceTypes
      Component --> ResourceTypes
      ResourceTypes --> ResourceManager
    }
    
    package "Safety Layer" {
      [Memory Safety] as MemSafety
      [Resource Limits] as ResLimits
      [Verification] as Verify
      [Error Recovery] as Recovery
      
      MemSafety --> Memory
      ResLimits --> ResTrack
      Verify --> Module
      Recovery --> ErrorHandling
    }
    
    package "WASI Implementation" {
      [Logging] as Logging
      [Platform Backends] as Backends
      
      Logging --> Backends
    }
  }
  
  package "Testing Tools" {
    [WAST Runner] as WASTRunner
    [Safety Tests] as SafetyTests
    [Fuzzing] as Fuzzing
    
    WASTRunner --> StacklessEngine
    SafetyTests --> MemSafety
    Fuzzing --> Component
  }
  
  CLI --> StacklessEngine
  CLI --> Component
  CLI --> Logging
}

@enduml